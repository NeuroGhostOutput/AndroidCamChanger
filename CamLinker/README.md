# CamLinker

Консольное приложение для Windows 11, позволяющее находить все активные виртуальные камеры в системе и подключать указанную камеру (webcam0) к эмулятору Android.

## Требования

- Windows 11
- .NET 8.0 или выше
- Android SDK (с установленными platform-tools и эмулятором)
- Настроенные переменные окружения:
  - ANDROID_HOME или ANDROID_SDK_ROOT (путь к Android SDK)

## Установка

1. Убедитесь, что у вас установлен .NET 8.0 SDK
2. Склонируйте репозиторий
3. Перейдите в директорию проекта
4. Выполните сборку:
```bash
dotnet build
```

## Использование

1. Запустите приложение из директории проекта:
```bash
cd d:/software/camLinker/CamLinker
dotnet run
```

2. В главном меню доступны следующие опции:
   - Показать список всех камер
   - Показать только виртуальные камеры
   - Назначить камеру как webcam0
   - Подключить webcam0 к эмулятору
   - Обновить список устройств

3. Для подключения камеры к эмулятору:
   - Выберите пункт "Назначить камеру как webcam0"
   - Выберите нужную камеру из списка
   - После успешного назначения используйте пункт "Подключить webcam0 к эмулятору"

## Важные замечания

- Убедитесь, что эмулятор Android запущен перед попыткой подключения камеры
- Приложение должно быть запущено от имени администратора для доступа к реестру Windows
- Android SDK должен быть корректно установлен и настроен
- При назначении камеры как webcam0 происходит регистрация в системном реестре
- После назначения камеры может потребоваться перезапуск приложений, использующих камеру

## Решение проблем

1. Если приложение не может найти Android SDK:
   - Проверьте, что переменная ANDROID_HOME или ANDROID_SDK_ROOT установлена
   - Убедитесь, что путь содержит необходимые инструменты (adb.exe, emulator.exe)

2. Если камера не определяется как виртуальная:
   - Проверьте, что имя камеры содержит ключевые слова (virtual, obs, droid)
   - Убедитесь, что драйвер виртуальной камеры установлен корректно

3. Если не удается подключить камеру к эмулятору:
   - Проверьте, что эмулятор запущен
   - Убедитесь, что у приложения есть необходимые права доступа
   - Проверьте логи эмулятора на наличие ошибок
